{
  "version": 3,
  "sources": ["../../just-clone/index.mjs"],
  "sourcesContent": ["var collectionClone = clone;\n\n/*\n  Deep clones all properties except functions\n\n  var arr = [1, 2, 3];\n  var subObj = {aa: 1};\n  var obj = {a: 3, b: 5, c: arr, d: subObj};\n  var objClone = clone(obj);\n  arr.push(4);\n  subObj.bb = 2;\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4], d: {aa: 1}}\n  objClone; // {a: 3, b: 5, c: [1, 2, 3], d: {aa: 1, bb: 2}}\n*/\n\nfunction clone(obj) {\n  let result = obj;\n  var type = {}.toString.call(obj).slice(8, -1);\n  if (type == 'Set') {\n    return new Set([...obj].map(value => clone(value)));\n  }\n  if (type == 'Map') {\n    return new Map([...obj].map(kv => [clone(kv[0]), clone(kv[1])]));\n  }\n  if (type == 'Date') {\n    return new Date(obj.getTime());\n  }\n  if (type == 'RegExp') {\n    return RegExp(obj.source, getRegExpFlags(obj));\n  }\n  if (type == 'Array' || type == 'Object') {\n    result = Array.isArray(obj) ? [] : {};\n    for (var key in obj) {\n      // include prototype properties\n      result[key] = clone(obj[key]);\n    }\n  }\n  // primitives and non-supported objects (e.g. functions) land here\n  return result;\n}\n\nfunction getRegExpFlags(regExp) {\n  if (typeof regExp.source.flags == 'string') {\n    return regExp.source.flags;\n  } else {\n    var flags = [];\n    regExp.global && flags.push('g');\n    regExp.ignoreCase && flags.push('i');\n    regExp.multiline && flags.push('m');\n    regExp.sticky && flags.push('y');\n    regExp.unicode && flags.push('u');\n    return flags.join('');\n  }\n}\n\nexport {collectionClone as default};\n"],
  "mappings": ";AAAA,IAAI,kBAAkB;AAetB,SAAS,MAAM,KAAK;AAClB,MAAI,SAAS;AACb,MAAI,OAAO,CAAC,EAAE,SAAS,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE;AAC5C,MAAI,QAAQ,OAAO;AACjB,WAAO,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,IAAI,WAAS,MAAM,KAAK,CAAC,CAAC;AAAA,EACpD;AACA,MAAI,QAAQ,OAAO;AACjB,WAAO,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,IAAI,QAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,EACjE;AACA,MAAI,QAAQ,QAAQ;AAClB,WAAO,IAAI,KAAK,IAAI,QAAQ,CAAC;AAAA,EAC/B;AACA,MAAI,QAAQ,UAAU;AACpB,WAAO,OAAO,IAAI,QAAQ,eAAe,GAAG,CAAC;AAAA,EAC/C;AACA,MAAI,QAAQ,WAAW,QAAQ,UAAU;AACvC,aAAS,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;AACpC,aAAS,OAAO,KAAK;AAEnB,aAAO,GAAG,IAAI,MAAM,IAAI,GAAG,CAAC;AAAA,IAC9B;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,eAAe,QAAQ;AAC9B,MAAI,OAAO,OAAO,OAAO,SAAS,UAAU;AAC1C,WAAO,OAAO,OAAO;AAAA,EACvB,OAAO;AACL,QAAI,QAAQ,CAAC;AACb,WAAO,UAAU,MAAM,KAAK,GAAG;AAC/B,WAAO,cAAc,MAAM,KAAK,GAAG;AACnC,WAAO,aAAa,MAAM,KAAK,GAAG;AAClC,WAAO,UAAU,MAAM,KAAK,GAAG;AAC/B,WAAO,WAAW,MAAM,KAAK,GAAG;AAChC,WAAO,MAAM,KAAK,EAAE;AAAA,EACtB;AACF;",
  "names": []
}
