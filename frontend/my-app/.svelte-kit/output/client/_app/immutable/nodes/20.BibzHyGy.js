import{s as X,h as Y,n as M,r as Z}from"../chunks/scheduler.Dgi1yRhy.js";import{S as $,i as ee,e as i,s as L,c as u,a as Q,g as C,k as T,d as q,l,v as R,r as w,b as te,m as s,x as W,q as N,y as le}from"../chunks/index.i9izywSM.js";import{g as k}from"../chunks/entry.DTdBLLXD.js";import{b as se,d as ne}from"../chunks/global.DC77a2-V.js";function ae(p){let e,f,b="Login",y,n,I="Email:",E,a,O,o,z="Password:",U,d,S,x,D="Type:",A,r,h,H="User",_,J="Employee",v,V="Owner",m,F="Admin",B,g,G="Login",j,K;return{c(){e=i("div"),f=i("h2"),f.textContent=b,y=L(),n=i("label"),n.textContent=I,E=L(),a=i("input"),O=L(),o=i("label"),o.textContent=z,U=L(),d=i("input"),S=L(),x=i("label"),x.textContent=D,A=L(),r=i("select"),h=i("option"),h.textContent=H,_=i("option"),_.textContent=J,v=i("option"),v.textContent=V,m=i("option"),m.textContent=F,B=L(),g=i("button"),g.textContent=G,this.h()},l(c){e=u(c,"DIV",{class:!0});var t=Q(e);f=u(t,"H2",{class:!0,"data-svelte-h":!0}),C(f)!=="svelte-bhb3ah"&&(f.textContent=b),y=T(t),n=u(t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1flf0h4"&&(n.textContent=I),E=T(t),a=u(t,"INPUT",{type:!0,id:!0,placeholder:!0,style:!0,class:!0}),O=T(t),o=u(t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(o)!=="svelte-bhu94"&&(o.textContent=z),U=T(t),d=u(t,"INPUT",{type:!0,id:!0,placeholder:!0,style:!0,class:!0}),S=T(t),x=u(t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(x)!=="svelte-o5n6oo"&&(x.textContent=D),A=T(t),r=u(t,"SELECT",{id:!0,class:!0});var P=Q(r);h=u(P,"OPTION",{"data-svelte-h":!0}),C(h)!=="svelte-1u8kdru"&&(h.textContent=H),_=u(P,"OPTION",{"data-svelte-h":!0}),C(_)!=="svelte-1nkfx0u"&&(_.textContent=J),v=u(P,"OPTION",{"data-svelte-h":!0}),C(v)!=="svelte-15zajnc"&&(v.textContent=V),m=u(P,"OPTION",{"data-svelte-h":!0}),C(m)!=="svelte-17op260"&&(m.textContent=F),P.forEach(q),B=T(t),g=u(t,"BUTTON",{class:!0,"data-svelte-h":!0}),C(g)!=="svelte-y78872"&&(g.textContent=G),t.forEach(q),this.h()},h(){l(f,"class","svelte-f414zd"),l(n,"for","email"),l(n,"class","svelte-f414zd"),l(a,"type","email"),l(a,"id","email"),l(a,"placeholder","Enter your email"),R(a,"width","880px"),l(a,"class","svelte-f414zd"),l(o,"for","password"),l(o,"class","svelte-f414zd"),l(d,"type","password"),l(d,"id","password"),l(d,"placeholder","Enter your password"),R(d,"width","880px"),l(d,"class","svelte-f414zd"),l(x,"for","type"),l(x,"class","svelte-f414zd"),h.__value="user",w(h,h.__value),_.__value="employee",w(_,_.__value),v.__value="owner",w(v,v.__value),m.__value="admin",w(m,m.__value),l(r,"id","type"),l(r,"class","svelte-f414zd"),p[2]===void 0&&Y(()=>p[6].call(r)),l(g,"class","svelte-f414zd"),l(e,"class","login-container svelte-f414zd")},m(c,t){te(c,e,t),s(e,f),s(e,y),s(e,n),s(e,E),s(e,a),w(a,p[0]),s(e,O),s(e,o),s(e,U),s(e,d),w(d,p[1]),s(e,S),s(e,x),s(e,A),s(e,r),s(r,h),s(r,_),s(r,v),s(r,m),W(r,p[2],!0),s(e,B),s(e,g),j||(K=[N(a,"input",p[4]),N(d,"input",p[5]),N(r,"change",p[6]),N(g,"click",p[3])],j=!0)},p(c,[t]){t&1&&a.value!==c[0]&&w(a,c[0]),t&2&&d.value!==c[1]&&w(d,c[1]),t&4&&W(r,c[2])},i:M,o:M,d(c){c&&q(e),j=!1,Z(K)}}}function oe(p,e,f){let b="",y="",n="";async function I(){try{const o=await fetch("http://localhost:3000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:y,type:n})});if(o.ok){const z=await o.json();console.log(z),se(z.user_id),ne(n),n==="user"?k("/user"):n==="employee"?k("/employee"):n==="owner"?k("/owner"):n==="admin"&&k("/admin")}if(!o.ok)throw alert("Log-in failed"),new Error("Login failed")}catch(o){console.error("Login failed:",o)}}function E(){b=this.value,f(0,b)}function a(){y=this.value,f(1,y)}function O(){n=le(this),f(2,n)}return[b,y,n,I,E,a,O]}class pe extends ${constructor(e){super(),ee(this,e,oe,ae,X,{})}}export{pe as component};
