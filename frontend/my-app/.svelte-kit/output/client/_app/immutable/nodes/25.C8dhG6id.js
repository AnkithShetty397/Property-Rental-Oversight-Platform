import{u as L}from"../chunks/global.DC77a2-V.js";import{s as pe,j as ue,n as ne,r as ce}from"../chunks/scheduler.Dgi1yRhy.js";import{S as de,i as fe,e as n,s as C,n as se,c as s,a as j,k as w,o as re,d as I,g as B,l as i,z as u,b as he,m as e,r as T,q as D,A as ie}from"../chunks/index._uay1wRk.js";import{g as _e}from"../chunks/entry.BBIJJ-6L.js";const me=async()=>({info:(await(await fetch(`http://localhost:3000/api/user/getUserDetails?user_id=${L}`)).json())[0]}),we=Object.freeze(Object.defineProperty({__proto__:null,load:me},Symbol.toStringTag,{value:"Module"}));function ve(l){let h,c,d,o,N,F,O,E,q,y,p,t,_,x="Name:",V,m,G,S,$="Age:",H,f,J,U,ee="Location:",Y,v,K,k,te="Phone Number:",Q,g,R,P,W,A,X,oe;return{c(){h=n("main"),c=n("body"),d=n("div"),o=n("div"),N=n("img"),O=C(),E=n("p"),q=se("Change Profile Photo: "),y=n("input"),p=C(),t=n("div"),_=n("p"),_.textContent=x,V=C(),m=n("input"),G=C(),S=n("p"),S.textContent=$,H=C(),f=n("input"),J=C(),U=n("p"),U.textContent=ee,Y=C(),v=n("input"),K=C(),k=n("p"),k.textContent=te,Q=C(),g=n("input"),R=C(),P=n("button"),W=se("Save"),this.h()},l(a){h=s(a,"MAIN",{});var b=j(h);c=s(b,"BODY",{});var le=j(c);d=s(le,"DIV",{class:!0});var M=j(d);o=s(M,"DIV",{class:!0});var z=j(o);N=s(z,"IMG",{src:!0,alt:!0,class:!0}),O=w(z),E=s(z,"P",{});var Z=j(E);q=re(Z,"Change Profile Photo: "),y=s(Z,"INPUT",{type:!0,accept:!0,style:!0}),Z.forEach(I),p=w(z),t=s(z,"DIV",{class:!0});var r=j(t);_=s(r,"P",{"data-svelte-h":!0}),B(_)!=="svelte-g0pfar"&&(_.textContent=x),V=w(r),m=s(r,"INPUT",{placeholder:!0,style:!0}),G=w(r),S=s(r,"P",{"data-svelte-h":!0}),B(S)!=="svelte-1xfd939"&&(S.textContent=$),H=w(r),f=s(r,"INPUT",{type:!0,placeholder:!0,style:!0}),J=w(r),U=s(r,"P",{"data-svelte-h":!0}),B(U)!=="svelte-9362rv"&&(U.textContent=ee),Y=w(r),v=s(r,"INPUT",{placeholder:!0,style:!0}),K=w(r),k=s(r,"P",{"data-svelte-h":!0}),B(k)!=="svelte-8tzq5l"&&(k.textContent=te),Q=w(r),g=s(r,"INPUT",{placeholder:!0,style:!0}),r.forEach(I),z.forEach(I),R=w(M),P=s(M,"BUTTON",{class:!0,type:!0});var ae=j(P);W=re(ae,"Save"),ae.forEach(I),M.forEach(I),le.forEach(I),b.forEach(I),this.h()},h(){ue(N.src,F=`http://localhost:3000/api/profile/getProfilePicture?user_id=${L}`)||i(N,"src",F),i(N,"alt",""),i(N,"class","profile-image svelte-1xxv0fj"),i(y,"type","file"),i(y,"accept",".jpg, .png"),u(y,"font-size",".9rem"),u(y,"width","400px"),i(m,"placeholder","Name"),u(m,"font-size","1rem"),u(m,"width","400px"),u(m,"display","block"),i(f,"type","number"),i(f,"placeholder","Age"),u(f,"font-size",".9rem"),u(f,"width","400px"),u(f,"display","block"),i(v,"placeholder","Location"),u(v,"font-size",".9rem"),u(v,"width","400px"),u(v,"display","block"),i(g,"placeholder","Phone Number"),u(g,"font-size",".9rem"),u(g,"width","400px"),u(g,"display","block"),i(t,"class","user-info svelte-1xxv0fj"),i(o,"class","profile-container svelte-1xxv0fj"),i(P,"class","button svelte-1xxv0fj"),P.disabled=A=!l[0].name||!l[0].age||!l[0].location||!l[0].adhar_no||!l[0].phone_no,i(P,"type","submit"),i(d,"class","container svelte-1xxv0fj")},m(a,b){he(a,h,b),e(h,c),e(c,d),e(d,o),e(o,N),e(o,O),e(o,E),e(E,q),e(E,y),e(o,p),e(o,t),e(t,_),e(t,V),e(t,m),T(m,l[0].name),e(t,G),e(t,S),e(t,H),e(t,f),T(f,l[0].age),e(t,J),e(t,U),e(t,Y),e(t,v),T(v,l[0].location),e(t,K),e(t,k),e(t,Q),e(t,g),T(g,l[0].phone_no),e(d,R),e(d,P),e(P,W),X||(oe=[D(y,"change",l[1]),D(m,"input",l[4]),D(f,"input",l[5]),D(v,"input",l[6]),D(g,"input",l[7]),D(P,"click",l[2])],X=!0)},p(a,[b]){b&1&&m.value!==a[0].name&&T(m,a[0].name),b&1&&ie(f.value)!==a[0].age&&T(f,a[0].age),b&1&&v.value!==a[0].location&&T(v,a[0].location),b&1&&g.value!==a[0].phone_no&&T(g,a[0].phone_no),b&1&&A!==(A=!a[0].name||!a[0].age||!a[0].location||!a[0].adhar_no||!a[0].phone_no)&&(P.disabled=A)},i:ne,o:ne,d(a){a&&I(h),X=!1,ce(oe)}}}function ge(l,h,c){let{data:d}=h,o=d.info;async function N(){const p=document.querySelector('input[type="file"]');if(p instanceof HTMLInputElement&&p.files&&p.files.length>0){const t=p.files[0],_=new FormData;_.append("user_id",L),_.append("profilephoto",t),console.log(_);try{if(!(await fetch("http://localhost:3000/api/profile/saveProfilePicture",{method:"POST",body:_})).ok)throw new Error("Failed to upload file");console.log("File uploaded successfully")}catch(x){console.error("Error uploading file:",x)}}else console.error("No file selected")}async function F(){const p={...o,user_id:L};console.log(p);try{if(!(await fetch("http://localhost:3000/api/user/updateUserDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw alert("Profile Update Failed"),new Error("Failed to update profile");alert("Profile updated successfully"),console.log("Profile updated successfully"),_e("/user/profile")}catch(t){console.error("Error updating profile:",t)}}function O(){o.name=this.value,c(0,o)}function E(){o.age=ie(this.value),c(0,o)}function q(){o.location=this.value,c(0,o)}function y(){o.phone_no=this.value,c(0,o)}return l.$$set=p=>{"data"in p&&c(3,d=p.data)},[o,N,F,d,O,E,q,y]}class Ne extends de{constructor(h){super(),fe(this,h,ge,ve,pe,{data:3})}}export{Ne as component,we as universal};
